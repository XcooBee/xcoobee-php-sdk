var XcooBee=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertAppearsToBeACampaignId=i,t.createClient=a,t.transformError=s;var n=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(r(3));function i(e){if(!function(e){return"string"==typeof e&&e.length>0}(e))throw new o.default("Campaign ID is required")}function a(e,t){var r=e+"/graphql";return new n.GraphQLClient(r,{headers:{Authorization:""+t}})}function s(e){if(e instanceof o.default)return e;var t=0;if(e.response&&"number"==typeof e.response.status&&(t=e.response.status),401===t)return new o.default("401 Unauthorized.  Please make sure your API access token is fresh.");if(e.response&&e.response.errors){var r=e.response.errors;Array.isArray(r)||(r=[r]);var n=r.map(u).join("\n");return new o.default(n)}return new o.default(e)}function u(e){var t=[];return e.message&&t.push(e.message),e.locations&&t.push(e.locations.map(c).join(", ")),0===t.length&&t.push(JSON.stringify(e)),t=t.join(" ")}function c(e){return"at line: "+e.line+", column: "+e.column}t.default={assertAppearsToBeACampaignId:i,createClient:a,transformError:s}},function(e,t,r){"use strict"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(6));var o=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{code:e,errors:r}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();t.default=o},function(e,t,r){"use strict";function n(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return Error.captureStackTrace(i,t),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n(Error)),t}();o.prototype.name="XcooBeeError",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={resolveApiCfg:function(e,t){return e&&"apiKey"in e&&"apiSecret"in e&&"apiUrlRoot"in e?{apiKey:e.apiKey,apiSecret:e.apiSecret,apiUrlRoot:e.apiUrlRoot}:t&&"apiKey"in t&&"apiSecret"in t&&"apiUrlRoot"in t?{apiKey:t.apiKey,apiSecret:t.apiSecret,apiUrlRoot:t.apiUrlRoot}:null},resolveCampaignId:function(e,t,r){return e&&"string"==typeof e?e:t&&"string"==typeof t.campaignId?t.campaignId:r&&"string"==typeof r.campaignId?r.campaignId:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(6));var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{code:200,data:e,errors:null}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._=n({},t,{time:new Date})}return o(e,[{key:"code",get:function(){return this._.code}},{key:"data",get:function(){return this._.data}},{key:"errors",get:function(){return this._.errors}},{key:"time",get:function(){return this._.time}}]),e}();t.default=i},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.apiKey,n=t.apiSecret,o=t.apiUrlRoot,i=t.campaignId,a=t.encrypt,s=t.pgpPassword,u=t.pgpSecret;if(i=void 0===i?null:i,a=void 0!==a&&a,s=void 0===s?null:s,u=void 0===u?null:u,!r||"string"!=typeof r)throw new TypeError("API key is required.");if(!n||"string"!=typeof n)throw new TypeError("API secret is required.");if(!o||"string"!=typeof o)throw new TypeError("API URL root is required.");if(null!==i&&"string"!=typeof i||"string"==typeof i&&0===i.length)throw new TypeError("Default campaign ID must be null or a valid campaign ID.");if(a){if(!s)throw new TypeError("PGP password is required when encrypt is true.");if(!u)throw new TypeError("PGP secret is required when encrypt is true.")}this._={apiKey:r,apiSecret:n,apiUrlRoot:o,campaignId:i,encrypt:a,pgpPassword:s,pgpSecret:u}}return n(e,[{key:"apiKey",get:function(){return this._.apiKey}},{key:"apiSecret",get:function(){return this._.apiSecret}},{key:"apiUrlRoot",get:function(){return this._.apiUrlRoot}},{key:"campaignId",get:function(){return this._.campaignId}},{key:"encrypt",get:function(){return this._.encrypt}},{key:"pgpPassword",get:function(){return this._.pgpPassword}},{key:"pgpSecret",get:function(){return this._.pgpSecret}}]),e}();t.default=o},function(e,t,r){"use strict";var n=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(r,n){var o=this,i=t.extractMessage(r)+": "+JSON.stringify({response:r,request:n});return(o=e.call(this,i)||this).response=r,o.request=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return n(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUser=o;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function o(e,t){var r=t;if(r in o._.unfulfilledPromises)return o._.unfulfilledPromises[r];var i=new Promise(function(i,a){try{var s=n.default.createClient(e,t);s.request("\n        query {\n          user {\n            cursor\n            xcoobee_id\n            pgp_public_key\n          }\n        }\n      ").then(function(e){delete o._.unfulfilledPromises[r];var t=e.user;i(t)},function(e){delete o._.unfulfilledPromises[r],a(n.default.transformError(e))})}catch(e){delete o._.unfulfilledPromises[r],a(n.default.transformError(e))}});return o._.unfulfilledPromises[r]=i,i}o._={unfulfilledPromises:{}},t.default={getUser:o}},function(e,t,r){r(12),e.exports=r(13)},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){var n,o=Object.prototype,i=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",f="object"===t(e),l=r.regeneratorRuntime;if(l)f&&(e.exports=l);else{(l=r.regeneratorRuntime=f?e.exports:{}).wrap=w;var p="suspendedStart",d="suspendedYield",h="executing",y="completed",v={},m={};m[s]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(I([])));g&&g!==o&&i.call(g,s)&&(m=g);var _=S.prototype=E.prototype=Object.create(m);x.prototype=_.constructor=S,S.constructor=x,S[c]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},l.awrap=function(e){return{__await:e}},O(T.prototype),T.prototype[u]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,r,n){var o=new T(w(e,t,r,n));return l.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,r,n){var o=t&&t.prototype instanceof E?t:E,i=Object.create(o.prototype),a=new A(n||[]);return i._invoke=function(e,t,r){var n=p;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=P(e,t,r);if("normal"===u.type){if(n=r.done?y:d,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=y,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function P(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function E(){}function x(){}function S(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var r;this._invoke=function(n,o){function a(){return new Promise(function(r,a){!function r(n,o,a,s){var u=P(e[n],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===(void 0===f?"undefined":t(f))&&i.call(f,"__await")?Promise.resolve(f.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):Promise.resolve(f).then(function(e){c.value=e,a(c)},s)}s(u.arg)}(n,o,r,a)})}return r=r?r.then(a,a):a()}}function C(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=P(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}).call(this,r(7)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sdk=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(14));var o={sdk:t.sdk=n.default};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(8)),o=f(r(15)),i=f(r(2)),a=f(r(6)),s=f(r(18)),u=f(r(4)),c=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}t.default={Config:n.default,ConfigUtils:o.default,ErrorResponse:i.default,Response:a.default,Sdk:s.default,SdkUtils:u.default,SuccessResponse:c.default}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createConfigFromFile=c;var n=u(r(1)),o=u(r(1)),i=r(17),a=u(r(1)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(t){void 0===t&&((t=e.env.HOME)||(t=e.env.USERPROFILE));var r=o.default.join(t,".xcoobee","config");return new Promise(function(e,u){var c={};try{var f=n.default.createReadStream(r);f.on("error",function(e){u(e)});var l=a.default.createInterface({input:f});l.on("line",function(e){var t=e.trim();if(t.length>0){var r=t.split("#")[0].trim();if(r.length>0){var n=r.split("="),o=n[0].trim(),i=(n[1]||"").trim();c[o]=i}}}),l.on("close",function(){if("campaignId"in c&&""===campaignId&&(c.campaignId=null),"encrypt"in c&&(c.encrypt=(0,i.toBool)(c.encrypt,!1)),"pgpPassword"in c&&""===pgpPassword&&(c.pgpPassword=null),"pgpSecret"in c&&""===pgpSecret&&(c.pgpSecret=null),"pgpSecret"in c)e(new s.default(c));else{var r=o.default.join(t,".xcoobee","pgp.secret");n.default.readFile(r,function(t,r){if(t){if("ENOENT"===t.code)return void e(new s.default(c));u(t)}else c.pgpSecret=r,e(new s.default(c))})}})}catch(e){u(e)}})}var f={createFromFile:c};t.default=f}).call(this,r(16))},function(e,t,r){"use strict";var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,f=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?f=c.concat(f):p=-1,f.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=f.length;t;){for(c=f,f=[];++p<t;)c&&c[p].run();p=-1,t=f.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new y(e,t)),1!==f.length||l||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.__esModule=!0;var o={0:!1,1:!0,f:!1,t:!0,n:!1,y:!0,on:!0,off:!1,no:!1,yes:!0,false:!1,true:!0};function i(e){var t,r;return void 0!==e&&null!==e&&"function"==typeof e.valueOf&&((t=e.valueOf())&&"function"==typeof t.toString&&(t=t.toString().toLowerCase()),r=o[t]),r}var a={converter:i};function s(e,t){var r;return"boolean"==typeof e?r=e:"boolean"!=typeof(r=a.converter(e))&&(void 0===(t="object"==(void 0===t?"undefined":n(t))&&null!==t&&t.hasOwnProperty("def")?t.def:t)&&(t=e),r=t),r}t.toBool=s,function(e){e.resetConverter=function(){a.converter=i},e.setConverter=function(e){a.converter=e}}(s||(s={})),t.toBool=s,t.toBoolOrNull=function(e){return s(e,null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=f(r(19)),i=f(r(27)),a=f(r(33)),s=f(r(35)),u=f(r(38)),c=f(r(39));function f(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||null,n=new o.default,f=new c.default(n);this._={bees:new i.default(r,n,f),config:r,consents:new a.default(r,n,f),system:new s.default(r,n,f),users:new u.default(r,n,f)}}return n(e,[{key:"bees",get:function(){return this._.bees}},{key:"config",get:function(){return this._.config},set:function(e){this._.bees.config=e,this._.consents.config=e,this._.system.config=e,this._.users.config=e,this._.config=e}},{key:"consents",get:function(){return this._.consents}},{key:"system",get:function(){return this._.system}},{key:"users",get:function(){return this._.users}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(20)),a=s(r(23));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={cfg:n({},t||{}),internalCache:{}}}return o(e,[{key:"get",value:function(e,t,r,n){var o=this,s=e+":"+t+":"+r;if(!0!==n&&s in this._.internalCache){var u=this._.internalCache[s],c=(0,i.default)(u).exp,f=Date.now();if(("number"==typeof c&&c==c?1e3*c:f)-f>(this._.cfg.expTol||1e4))return Promise.resolve(u)}return a.default.getApiAccessToken({apiKey:t,apiSecret:r,apiUrlRoot:e}).then(function(e){return o._.internalCache[s]=e,Promise.resolve(e)})}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(21);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){"use strict";var n=r(22);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return n(t)}}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,s=0,u="";i=t.charAt(s++);~i&&(r=a%4?64*r+i:i,a++%4)?u+=String.fromCharCode(255&r>>(-2*a&6)):0)i=n.indexOf(i);return u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApiAccessToken=u;var n=a(r(24)),o=a(r(0)),i=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var s="Unable to get an API access token.";function u(e){var t=e.apiKey,r=e.apiSecret,a=e.apiUrlRoot,c=t+":"+r;if(c in u._.unfulfilledPromises)return u._.unfulfilledPromises[c];var f=new Promise(function(e,f){var l=a+"/get_token";try{(0,n.default)(l,{method:"POST",body:JSON.stringify({key:t,secret:r}),headers:{"Content-Type":"application/json;charset=utf-8"},timeout:3e4}).then(function(t){delete u._.unfulfilledPromises[c],t.json().then(function(r){var n=[];if(r){if(t.ok?"string"==typeof r.errorType&&r.errorType.length>0?r.errorMessage?n.push(r.errorMessage):n.push(s):"string"==typeof r.token&&0!==r.token.trim().length||n.push(s):403===t.status?(n.push("Forbidden."),r.message&&n.push(r.message)):n.push(s),0===n.length){var o=r.token.trim();return void e(o)}}else n.push(s);f(new i.default(n.join(" ")))},function(e){f(o.default.transformError(e))})},function(e){delete u._.unfulfilledPromises[c],f(o.default.transformError(e))})}catch(e){delete u._.unfulfilledPromises[c],f(o.default.transformError(e))}});return u._.unfulfilledPromises[c]=f,f}u._={unfulfilledPromises:{}},t.default={getApiAccessToken:u}},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:void 0);(function(e){!function(e){if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};f.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=u(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=v,e.Response=b,e.fetch=function(e,r){return new Promise(function(n,o){var i=new v(e,r),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}(void 0!==e?e:this)}).call(r,void 0);var n=r.fetch;n.Response=r.Response,n.Request=r.Request,n.Headers=r.Headers;"object"===t(e)&&e.exports&&(e.exports=n)}).call(this,r(7)(e))},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(9),u=r(9);t.ClientError=u.ClientError,r(26);var c=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t){return o(this,void 0,void 0,function(){var r,o,u,c,f,p,d,h,y;return i(this,function(i){switch(i.label){case 0:return r=this.options,o=r.headers,u=a(r,["headers"]),c=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,n({method:"POST",headers:Object.assign({"Content-Type":"application/json"},o),body:c},u))];case 1:return[4,l(f=i.sent())];case 2:if(p=i.sent(),f.ok&&!p.errors&&p.data)return d=f.headers,h=f.status,[2,n({},p,{headers:d,status:h})];throw y="string"==typeof p?{error:p}:p,new s.ClientError(n({},y,{status:f.status,headers:f.headers}),{query:e,variables:t})}})})},e.prototype.request=function(e,t){return o(this,void 0,void 0,function(){var r,o,u,c,f,p,d;return i(this,function(i){switch(i.label){case 0:return r=this.options,o=r.headers,u=a(r,["headers"]),c=JSON.stringify({query:e,variables:t||void 0}),[4,fetch(this.url,n({method:"POST",headers:Object.assign({"Content-Type":"application/json"},o),body:c},u))];case 1:return[4,l(f=i.sent())];case 2:if(p=i.sent(),f.ok&&!p.errors&&p.data)return[2,p.data];throw d="string"==typeof p?{error:p}:p,new s.ClientError(n({},d,{status:f.status}),{query:e,variables:t})}})})},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var r,n=this.options.headers;return n?n[e]=t:this.options.headers=((r={})[e]=t,r),this},e}();function f(e,t,r){return o(this,void 0,void 0,function(){return i(this,function(n){return[2,new c(e).request(t,r)]})})}function l(e){return o(this,void 0,void 0,function(){var t;return i(this,function(r){return(t=e.headers.get("Content-Type"))&&t.startsWith("application/json")?[2,e.json()]:[2,e.text()]})})}t.GraphQLClient=c,t.rawRequest=function(e,t,r){return o(this,void 0,void 0,function(){return i(this,function(n){return[2,new c(e).rawRequest(t,r)]})})},t.request=f,t.default=f},function(e,t,r){"use strict";!function(e){if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};f.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=u(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=v,e.Response=b,e.fetch=function(e,r){return new Promise(function(n,o){var i=new v(e,r),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new f;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function b(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=p(r(28)),i=p(r(29)),a=p(r(30)),s=p(r(32)),u=p(r(2)),c=p(r(4)),f=p(r(5)),l=p(r(3));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}function h(e,t){for(var r=[],n=Math.max(e.length,t.length),o=0;o<n;++o){var i=e[o]||null,a=t[o]||null;r.push({file:i,policy:a})}return r}var y=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={apiAccessTokenCache:r,config:t||null,usersCache:n}}return n(e,[{key:"_assertValidState",value:function(){if(!this._.config)throw TypeError("Illegal State: Default config has not been set yet.")}},{key:"listBees",value:function(){var e=d(regeneratorRuntime.mark(function e(t,r){var n,i,a,s,l,p,d,h,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),n=c.default.resolveApiCfg(r,this._.config),i=n.apiKey,a=n.apiSecret,s=n.apiUrlRoot,e.prev=3,e.next=6,this._.apiAccessTokenCache.get(s,i,a);case 6:return l=e.sent,e.next=9,o.default.bees(s,l,t);case 9:return p=e.sent,d=new f.default(p),e.abrupt("return",Promise.resolve(d));case 14:return e.prev=14,e.t0=e.catch(3),h=400,y=[e.t0],e.abrupt("return",Promise.resolve(new u.default(h,y)));case 19:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"takeOff",value:function(e,t,r,n){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"uploadFiles",value:function(){var e=d(regeneratorRuntime.mark(function e(t,r,n){var o,p,y,v,m,b,g,_,w,P,E,x,S,O,T,C,k,j,A=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),o=c.default.resolveApiCfg(n,this._.config),p=o.apiKey,y=o.apiSecret,v=o.apiUrlRoot,e.prev=3,e.next=6,this._.apiAccessTokenCache.get(v,p,y);case 6:return m=e.sent,e.next=9,this._.usersCache.get(v,p,y);case 9:return b=e.sent,g=b.cursor,e.next=13,i.default.outbox_endpoints(v,m,g);case 13:if(_=e.sent,w=r||"outbox",0===(P=_.filter(function(e){return e.name===w})).length&&(P=_.filter(function(e){return"flex"===e.name})),1===P.length){e.next=19;break}throw new l.default("Unable to find an endpoint named "+w+" or the fallback end point.");case 19:return E=P[0],e.next=22,s.default.upload_policy(v,m,E,t);case 22:return x=e.sent,S=h(t,x),O=S.map(function(e){var t=e.file,r=e.policy;return{file:t,promise:a.default.upload_file(t,r)}}),T=O.map(function(){var e=d(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.file,n=t.promise,e.next=3,n;case 3:return o=e.sent,e.abrupt("return",{file:r,success:!!o});case 5:case"end":return e.stop()}},e,A)}));return function(t){return e.apply(this,arguments)}}()),C=new f.default(T),e.abrupt("return",Promise.resolve(C));case 30:return e.prev=30,e.t0=e.catch(3),k=400,j=[e.t0],e.abrupt("return",Promise.resolve(new u.default(k,j)));case 35:case"end":return e.stop()}},e,this,[[3,30]])}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"config",set:function(e){this._.config=e}}]),e}();t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bees=o;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function o(e,t,r){return n.default.createClient(e,t).request("\n    query getBees($searchText: String) {\n      bees(search: $searchText) {\n        data {\n          bee_icon\n          bee_system_name\n          category\n          cursor\n          date_c,\n          description\n          input_extensions\n          input_file_types\n          is_file_reader\n          label\n          max_filesize\n          output_extensions\n          output_file_types\n          owner_cursor\n          owner_xcoobee_id\n        }\n        page_info {\n          end_cursor\n          has_next_page\n        }\n      }\n    }\n  ",{searchText:r}).then(function(e){var t=e.bees,r=t.data;t.page_info;return Promise.resolve(r)},function(e){throw n.default.transformError(e)})}t.default={bees:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outbox_endpoints=o;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function o(e,t,r){return n.default.createClient(e,t).request("\n    query getOutboxEndpoints($userId: String!) {\n      outbox_endpoints(user_cursor: $userId) {\n        data {\n          cursor\n          date_c\n          name\n        }\n      }\n    }\n  ",{userId:r}).then(function(e){var t=e.outbox_endpoints.data;return Promise.resolve(t)},function(e){throw n.default.transformError(e)})}t.default={outbox_endpoints:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upload_file=u;var n=s(r(31)),o=s(r(1)),i=s(r(3)),a=s(r(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=t.upload_url,s=new n.default;return s.append("key",t.key),s.append("acl","private"),s.append("X-Amz-Algorithm","AWS4-HMAC-SHA256"),s.append("X-Amz-Credential",t.credential),s.append("X-Amz-Date",t.date),s.append("X-Amz-meta-identifier",t.identifier),s.append("Policy",t.policy),s.append("X-Amz-Signature",t.signature),e instanceof File?s.append("file",e):s.append("file",o.default.createReadStream(filePath)),new Promise(function(n,o){s.submit(r,function(r,o){if(r)throw a.default.transformError(r);if(o.statusCode>=300){var s=void 0;throw s=e instanceof File?e.name:e,new i.default("Failed to upload file at: "+s+" using policy: "+JSON.stringify(t))}n(o)})})}t.default={upload_file:u}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports="object"==("undefined"==typeof self?"undefined":n(self))?self.FormData:window.FormData},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upload_policy=a;var n=i(r(1)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,i){var a=["query uploadPolicy {"];return i.forEach(function(e,t){var o=void 0;o=e instanceof File?e.name:n.default.basename(e),a.push("  policy"+t+': upload_policy(filePath: "'+o+'", intent: '+r.name+', identifier: "'+r.cursor+'") {'),a.push("    credential"),a.push("    date"),a.push("    identifier"),a.push("    key"),a.push("    policy"),a.push("    signature"),a.push("    upload_url"),a.push("  }")}),a.push("}"),a=a.join("\n"),o.default.createClient(e,t).request(a).then(function(e){for(var t=[],r=0,n=i.length;r<n;++r){var o=null,a="policy"+r;a in e&&(o=e[a]),t.push(o)}return Promise.resolve(t)},function(e){throw o.default.transformError(e)})}t.default={upload_policy:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=u(r(34)),i=u(r(2)),a=u(r(4)),s=u(r(5));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={apiAccessTokenCache:r,config:t||null,usersCache:n}}return n(e,[{key:"_assertValidState",value:function(){if(!this._.config)throw TypeError("Illegal State: Default config has not been set yet.")}},{key:"activateCampaign",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"createCampaign",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"confirmConsentChange",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"confirmDataDelete",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getCampaignInfo",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getConsentData",value:function(e,t){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getCookieConsent",value:function(e,t,r){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"listCampaigns",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,n,u,c,f,l,p,d,h,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),r=a.default.resolveApiCfg(t,this._.config),n=r.apiKey,u=r.apiSecret,c=r.apiUrlRoot,e.prev=3,e.next=6,this._.apiAccessTokenCache.get(c,n,u);case 6:return f=e.sent,e.next=9,this._.usersCache.get(c,n,u);case 9:return l=e.sent,p=l.cursor,e.next=13,o.default.getCampaigns(c,f,p);case 13:return d=e.sent,h=new s.default(d),e.abrupt("return",Promise.resolve(h));case 18:return e.prev=18,e.t0=e.catch(3),y=400,v=[e.t0],e.abrupt("return",Promise.resolve(new i.default(y,v)));case 23:case"end":return e.stop()}},e,this,[[3,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"modifyCampaign",value:function(e,t,r){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"requestConsent",value:function(e,t,r,n){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"setUserDataResponse",value:function(e,t,r,n,o){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"config",set:function(e){this._.config=e}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCampaignInfo=o,t.getCampaigns=i;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function o(e,t,r){n.default.assertAppearsToBeACampaignId(r);return n.default.createClient(e,t).request("\n    query getCampaignInfo($campaignId: String!) {\n      campaign(campaign_cursor: $campaignId) {\n        campaign_name\n        date_c\n        date_e\n        status\n        xcoobee_targets {\n          xcoobee_id\n        }\n      }\n    }\n  ",{campaignId:r}).then(function(e){var t=e.campaign;return Promise.resolve(t)},function(e){throw n.default.transformError(e)})}function i(e,t,r){return n.default.createClient(e,t).request("\n    query getCampaigns($userCursor: String!) {\n      campaigns(user_cursor: $userCursor) {\n        data {\n          campaign_name\n          status\n        }\n        page_info {\n          end_cursor\n          has_next_page\n        }\n      }\n    }\n  ",{userCursor:r}).then(function(e){var t=e.campaigns.data;return Promise.resolve(t)},function(e){throw n.default.transformError(e)})}t.default={getCampaignInfo:o,getCampaigns:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(36)),i=c(r(37)),a=c(r(2)),s=c(r(4)),u=c(r(5));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var l=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={apiAccessTokenCache:r,config:t||null,usersCache:n}}return n(e,[{key:"_assertValidState",value:function(){if(!this._.config)throw TypeError("Illegal State: Default config has not been set yet.")}},{key:"addEventSubscription",value:function(){var e=f(regeneratorRuntime.mark(function e(t,r,n){var o,c,f,l,p,d,h,y,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),o=s.default.resolveCampaignId(r,n,this._.config),c=s.default.resolveApiCfg(n,this._.config),f=c.apiKey,l=c.apiSecret,p=c.apiUrlRoot,e.prev=4,e.next=7,this._.apiAccessTokenCache.get(p,f,l);case 7:return d=e.sent,e.next=10,i.default.addEventSubscription(p,d,t,o);case 10:return h=e.sent,y=new u.default(h),e.abrupt("return",Promise.resolve(y));case 15:return e.prev=15,e.t0=e.catch(4),v=400,m=[e.t0],e.abrupt("return",Promise.resolve(new a.default(v,m)));case 20:case"end":return e.stop()}},e,this,[[4,15]])}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteEventSubscription",value:function(e,t,r){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getEvents",value:function(){var e=f(regeneratorRuntime.mark(function e(t){var r,n,i,c,f,l,p,d,h,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),r=s.default.resolveApiCfg(t,this._.config),n=r.apiKey,i=r.apiSecret,c=r.apiUrlRoot,e.prev=3,e.next=6,this._.apiAccessTokenCache.get(c,n,i);case 6:return f=e.sent,e.next=9,this._.usersCache.get(c,n,i);case 9:return l=e.sent,p=l.cursor,e.next=13,o.default.getEvents(c,f,p);case 13:return d=e.sent,h=new u.default(d),e.abrupt("return",Promise.resolve(h));case 18:return e.prev=18,e.t0=e.catch(3),y=400,v=[e.t0],e.abrupt("return",Promise.resolve(new a.default(y,v)));case 23:case"end":return e.stop()}},e,this,[[3,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"listEventSubscriptions",value:function(){var e=f(regeneratorRuntime.mark(function e(t,r){var n,o,c,f,l,p,d,h,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),n=s.default.resolveCampaignId(t,r,this._.config),o=s.default.resolveApiCfg(r,this._.config),c=o.apiKey,f=o.apiSecret,l=o.apiUrlRoot,e.prev=4,e.next=7,this._.apiAccessTokenCache.get(l,c,f);case 7:return p=e.sent,e.next=10,i.default.listEventSubscriptions(l,p,n);case 10:return d=e.sent,h=new u.default(d),e.abrupt("return",Promise.resolve(h));case 15:return e.prev=15,e.t0=e.catch(4),y=400,v=[e.t0],e.abrupt("return",Promise.resolve(new a.default(y,v)));case 20:case"end":return e.stop()}},e,this,[[4,15]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"ping",value:function(e){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"config",set:function(e){this._.config=e}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEvents=o;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function o(e,t,r){return n.default.createClient(e,t).request("\n    query getEvents($userId: String!) {\n      events(user_cursor: $userId) {\n        data {\n          event_id\n          reference_cursor\n          reference_type\n          owner_cursor\n          event_type\n          payload\n          hmac\n          date_c\n        }\n      }\n    }\n  ",{userId:r}).then(function(e){var t=e.events.data;return Promise.resolve(t)},function(e){throw n.default.transformError(e)})}t.default={getEvents:o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEventSubscription=a,t.listEventSubscriptions=s;var n=i(r(3)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n){o.default.assertAppearsToBeACampaignId(n);var i=[];for(var a in r){var s=r[a],u=c(a);i.push({handler:s,event_type:u})}var f={campaign_cursor:n,events:i};return o.default.createClient(e,t).request("\n    mutation addEventSubscription($config: AddSubscriptionsConfig!) {\n      add_event_subscriptions(config: $config) {\n        data {\n          date_c\n          event_type\n          handler\n        }\n        page_info {\n          end_cursor\n          has_next_page\n        }\n      }\n    }\n  ",{config:f}).then(function(e){var t=e.add_event_subscriptions.data;return Promise.resolve(t)},function(e){throw o.default.transformError(e)})}function s(e,t,r){o.default.assertAppearsToBeACampaignId(r);return o.default.createClient(e,t).request("\n    query listEventSubscriptions($campaignId: String!) {\n      event_subscriptions(campaign_cursor: $campaignId) {\n        data {\n          date_c\n          event_type\n          handler\n        }\n        page_info {\n          end_cursor\n          has_next_page\n        }\n      }\n    }\n  ",{campaignId:r}).then(function(e){var t=e.event_subscriptions.data;return Promise.resolve(t)},function(e){throw o.default.transformError(e)})}var u={BreachBeeUsed:"breach_bee_used",BreachPresented:"breach_presented",ConsentApproved:"consent_approved",ConsentChanged:"consent_changed",ConsentDeclined:"consent_declined",ConsentExpired:"consent_expired",ConsentNearExpiration:"consent_near_expiration",DataApproved:"data_approved",DataChanged:"data_changed",DataDeclined:"data_declined",DataExpired:"data_expired",DataNearExpiration:"data_near_expiration",UserDataRequest:"user_data_request",UserMessage:"user_message"};function c(e){if(!(e in u))throw new n.default('Invalid event type provided: "'+e+'".');return u[e]}t.default={addEventSubscription:a,listEventSubscriptions:s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(s(r(10)),s(r(2))),i=s(r(4)),a=s(r(5));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={apiAccessTokenCache:r,config:t||null,usersCache:n}}return n(e,[{key:"_assertValidState",value:function(){if(!this._.config)throw TypeError("Illegal State: Default config has not been set yet.")}},{key:"getConversation",value:function(e,t,r,n){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getConversations",value:function(e,t,r){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"getUser",value:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function e(t){var r,n,s,u,c,f,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertValidState(),r=i.default.resolveApiCfg(t,this._.config),n=r.apiKey,s=r.apiSecret,u=r.apiUrlRoot,e.prev=3,e.next=6,this._.usersCache.get(u,n,s);case 6:return c=e.sent,f=new a.default(c),e.abrupt("return",Promise.resolve(f));case 11:return e.prev=11,e.t0=e.catch(3),l=400,p=[e.t0],e.abrupt("return",Promise.resolve(new o.default(l,p)));case 16:case"end":return e.stop()}},e,this,[[3,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"sendUserMessage",value:function(e,t,r,n){throw this._assertValidState(),Error("NotYetImplemented")}},{key:"config",set:function(e){this._.config=e}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(10));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._={apiAccessTokenCache:t,internalCache:{}}}return n(e,[{key:"get",value:function(e,t,r,n){var i=this,a=t+":"+r;if(!0!==n&&a in this._.internalCache){var s=this._.internalCache[a];return Promise.resolve(s)}return this._.apiAccessTokenCache.get(e,t,r).then(function(n){return o.default.getUser(e,n).then(function(e){return i._.internalCache[a]=e,Promise.resolve(e)},function(n){return i._.apiAccessTokenCache.get(e,t,r,!0).then(function(t){return o.default.getUser(e,t).then(function(e){return i._.internalCache[a]=e,Promise.resolve(e)})})})})}}]),e}();t.default=i}]);